# ==========================================
# Soft Power Analytics - Environment Configuration
# ==========================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ==========================================
# OpenAI API Configuration
# ==========================================
# Main API key for OpenAI GPT models (used via CLAUDE_KEY env var)
CLAUDE_KEY='your_openai_api_key_here'

# Alternative OpenAI configuration (if using different keys)
OPENAI_PROJ_API='your_openai_project_api_key'
OPENAI_ORG='your_openai_org_id'
OPENAI_PROJ_ID='your_openai_project_id'

# ==========================================
# Database Configuration (PostgreSQL)
# ==========================================
POSTGRES_DB=softpower-db
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_postgres_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Legacy database host/port (used by some scripts)
DB_HOST=localhost
DB_PORT=5432

# Database Connection URL (for SQLAlchemy)
# Format: postgresql+psycopg2://user:password@host:port/database
# Note: This is overridden in Docker by docker-compose.yml
DATABASE_URL=postgresql+psycopg2://your_postgres_user:your_postgres_password@localhost:5432/softpower-db

# Database Connection Pooling (optional tuning)
DB_POOL_SIZE=10              # Default pool size
DB_MAX_OVERFLOW=20           # Max additional connections
DB_POOL_TIMEOUT=30           # Connection timeout (seconds)
DB_POOL_RECYCLE=3600         # Recycle connections after 1 hour

# ==========================================
# AWS S3 Configuration (Optional)
# ==========================================
# Required for document ingestion from S3
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
S3_BUCKET=your-bucket-name
S3_REGION=us-east-1

# ==========================================
# Environment
# ==========================================
ENV=development              # Options: development, production
NODE_ENV=development         # Options: development, production

# Docker Environment Detection
# Set to 'true' when running in Docker containers
DOCKER_ENV=false

# ==========================================
# API Configuration (FastAPI Backend)
# ==========================================
API_HOST=0.0.0.0
API_PORT=8000                # Main API server port (matches vite proxy)
API_URL=http://localhost:8000

# Enable S3 API client for document operations
USE_S3_API_CLIENT=true

# FastAPI LLM Proxy Configuration
# URL where your FastAPI server with LLM access is running
FASTAPI_URL=http://localhost:8000/material_query

# ==========================================
# Streamlit Dashboard Configuration
# ==========================================
STREAMLIT_HOST=0.0.0.0
STREAMLIT_PORT=8501

# ==========================================
# Development Server Ports
# ==========================================
# React (Vite) dev server
VITE_PORT=5000

# ==========================================
# Pipeline Configuration (Optional)
# ==========================================
# Processing batch sizes
BATCH_SIZE=100
MAX_WORKERS=4

# Event clustering parameters
CLUSTER_EPS=0.15
CLUSTER_MIN_SAMPLES=2
CLUSTER_THRESHOLD=0.85

# ==========================================
# Logging Configuration (Optional)
# ==========================================
LOG_LEVEL=INFO               # Options: DEBUG, INFO, WARNING, ERROR
SQL_ECHO=false               # Set to 'true' to log all SQL queries
SQL_DEBUG=false              # Set to 'true' for connection pool debugging
